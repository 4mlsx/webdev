(self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([[974], { 2244: (e, t, n) => { Promise.resolve().then(n.bind(n, 2620)) }, 2620: (e, t, n) => { "use strict"; n.d(t, { Status: () => l }); var s = n(1615), a = n(3193), r = n(2183), i = ((0, r.createContext)({ listeners: new Set, stateMap: new Map }), { api: { hostname: "api.lanyard.rest", secure: !0 } }), o = (e => (e[e.Event = 0] = "Event", e[e.Hello = 1] = "Hello", e[e.Initialize = 2] = "Initialize", e[e.Heartbeat = 3] = "Heartbeat", e))(o || {}), c = (e => (e.INIT_STATE = "INIT_STATE", e.PRESENCE_UPDATE = "PRESENCE_UPDATE", e))(c || {}); function l(e) { let t, n, o; let c = (0, a.c)(8), { initialData: l, className: d } = e; c[0] !== l ? (t = { initialData: l }, c[0] = l, c[1] = t) : t = c[1]; let E = function(e, t) { let n = { ...i, ...t }, [s, a] = (0, r.useState)(), o = `${n.api.secure ? "wss" : "ws"}://${n.api.hostname}/socket`; return (0, r.useEffect)(() => { let t, n, s; if (!(typeof window > "u")) { if (!("WebSocket" in window || "MozWebSocket" in window)) throw Error("WebSocket connections not supported in this browser."); return t = "object" == typeof e ? { subscribe_to_ids: e } : { subscribe_to_id: e }, r(), () => { clearInterval(n), s.removeEventListener("close", r), s.close() } } function r() { n && clearInterval(n), (s = new WebSocket(o)).addEventListener("open", () => { console.log("Lanyard: Socket connection opened") }), s.addEventListener("close", r), s.addEventListener("message", e => { let r = JSON.parse(e.data); switch (r.op) { case 1: n = setInterval(() => { s.readyState === s.OPEN && s.send(JSON.stringify({ op: 3 })) }, r.d?.heartbeat_interval), s.readyState === s.OPEN && s.send(JSON.stringify({ op: 2, d: t })); break; case 0: switch (r.t) { case "INIT_STATE": case "PRESENCE_UPDATE": r.d && a(r.d) } } }) } }, [o]), s ?? n.initialData }("81440962496172032", t), u = (null == E ? void 0 : E.discord_status) !== "offline", _ = "inline-flex place-items-center gap-3 rounded-full bg-neutral-200 px-4 py-2 dark:bg-neutral-800 ".concat(d), p = "inline-block h-4 w-4 rounded-full ".concat(u ? "bg-green-500" : "bg-gray-500"); c[2] !== p ? (n = (0, s.jsx)("span", { className: p }), c[2] = p, c[3] = n) : n = c[3]; let N = u ? "online" : "offline"; return c[4] !== _ || c[5] !== n || c[6] !== N ? (o = (0, s.jsxs)("div", { className: _, children: [n, N] }), c[4] = _, c[5] = n, c[6] = N, c[7] = o) : o = c[7], o } }, 3901: (e, t, n) => { "use strict"; var s = n(2183).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE; t.c = function(e) { return s.H.useMemoCache(e) } }, 3193: (e, t, n) => { "use strict"; e.exports = n(3901) } }, e => { var t = t => e(e.s = t); e.O(0, [746, 908, 358], () => t(2244)), _N_E = e.O() }]);